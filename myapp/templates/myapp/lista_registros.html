{% load static %}

<!DOCTYPE html>
<html lang="es">
  <head>
    <meta charset="UTF-8" />
    <title>Listado de Visitas</title>
    <link href="{% static 'myapp/CSS/style_crud.css' %}" rel="stylesheet">
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.6/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-4Q6Gf2aSP4eDXB8Miphtr37CMZZQ5oXLH2yaXMJ2w8e2ZtHTl7GptT4jmndRuHDT"
      crossorigin="anonymous"
    />
  </head>
  <body>   
    <nav class="navbar sticky-bottom" style="background-color: #D35400;" data-bs-theme="light">
        <div class="container-fluid">
            <a class="navbar-brand" href="#">
            <img src="{% static 'myapp/image/logo.png ' %}" alt="Logo" width="30" height="24" class="img-fluid logo">
            Control de Visitas Huaquechula 
            </a>
        </div>
    </nav>
     
    <main class="container mt-3">
      
      <h3 class="text-info">Listado de visitas</h3>
        <div class="row"></div>
            <div class="offset-9 col-md-3">

              <a class="btn btn-success" role="button" href="{% url 'login' %}" >Nuevo registro</a>
              <button class="btn btn-danger" id="botonEliminar">Borrar Selección</button>
            </div>
        </div>
      {% if mensaje %}
      <div class="alert alert-info">{{ mensaje }}</div>
      {% endif %}

      <table class="table table-bordered">
        <thead>
          <tr>
            <th>Sel.</th>
            <th>ID</th>
            <th>Fecha</th>
            <th>Tamaño Grupo</th>
            <th>Extranjero</th>
            <th>País Origen</th>
            <th>Procedencia</th>
            <th>Transporte</th>
            <th>Motivo</th>
            <th>Estancia</th>
            <th>N° Visitas</th>
            <th>Encuestador</th>
            <th>Acciones</th>
          </tr>
        </thead>
        <tbody>
          {% for r in registros %}
          <tr>
            <td>
            <div class='form-check'>
            <input class='form-check-input' type='checkbox' value='' id='checkDefault'>
            </div>
            </td>";
            <td>{{ r.id_registro }}</td>
            <td>{{ r.fecha }}</td>
            <td>{{ r.tamanio_grupo }}</td>
            <td>{{ r.es_extranjero }}</td>
            <td>{{ r.pais_origen }}</td>
            <td>{{ r.procedencia }}</td>
            <td>{{ r.tipo_transporte }}</td>
            <td>{{ r.motivo_visita }}</td>
            <td>{{ r.estancia_dias }}</td>
            <td>{{ r.numero_visitas }}</td>
            <td>{{ r.id_encuestador }}</td>
            <td>
              {% if r.id_registro %}
              <a
                class="btn btn-danger btn-sm"
                href="{% url 'eliminar_registro' r.id_registro %}"
                >Eliminar</a
              >
              {% else %}
              <span class="text-muted">Sin ID</span>
              {% endif %}
              <button class='btn btn-info' data-id='{$fila[0]}'>Editar</button>
            </td>
          </tr>
          {% endfor %}
        </tbody>
      </table>
    </main>
  </body>
</html>
